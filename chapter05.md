# Զրույց V

Հարգելի՛ ընթերցող։

Ես արդեն պատմեցի կետի դեկարտյան կոորդինատները բևեռային վերածող ծրագրի մասին և ցույց տվեցի, թե ինչպես գրել `polar` ֆունկցիան, որն իր ցուցիչ արգումենտներով վերադարձնում է երկու արժեք։ Բայց ի՛նչ լավ կլիներ, եթե ես հնարավորություն ունենայի դեկարտյան ու բևեռային կետը սահմանել որպես իմ ծրագրի նոր տիպ։ Այս անգամ հենց ուզում եմ պատմել *ստրուկտուրաների* մասին, որոնք ծրագրավորողին հնարավորություն են տալիս ստեղծել սեփական բաղադրյալ տպերը։ 

Եվ այսպես, նորից վերադառնամ կետի բևեռային կոորդինատները հաշվելու խնդրին։ Թե՛ դեկարտյան և թե՛ բևեռային կոորդինատները ներկայացնելու համար ես օգտագործում էի երկու `double` թիվ։ C լեզվի `struct` հրամանը ինձ թույլ է տալիս դեկարտյան և բևեռային կետերը սահմանել որպես նոր տիպ։ Ահա, օրինակ, այսպես.

```c
/* դեկարտյան կետը */
struct cartesian_point {
  double x; // աբսցիս
  double y; // օրդինատ
};

/* բևեռային կետը */
struct polar_point {
  double rho; // շառավիղ
  double phi; // ազիմուտ
};
```

Ես հայտարարեցի `cartesian_point` ստրուկտուրան՝ իր `x` և `y` դաշտերով, ինչպես նաև `polar_point` ստրուկտուրան՝ `rho` և `phi` դաշտերով։ Հիմա կարող եմ դեկարտյան `c0` կետը հայտարարել և նրա դաշտերին `0.0` արժեքը տալ հետևյալ կերպ.

```c
struct cartesian_point c0 = { 0.0, 0.0 };
```

Այստեղ պետք է ուշադրություն դարձնել որ ստրուկտուրայի նմուշների հայտարարության մեջ անպայման մասնակցում է `struct` ծառայողական բառը։

Նոր `cartesian_point` նմուշներ ստեղծելիս դաշտերը կարելի է արժեքավորել նաև նրանց անունները բացահայտ տալով և ամեն մի դաշտի անունից առաջ `.` նիշը գրելով։ Օրինակ.

```c
struct cartesian_point c1 = { .y = 1.2, .x = 3.4 };
```

ՈՒնենալով `cartesian_point` և `polar_point` ստրուկտուրաները, ես կարող եմ սահմանել `to_polar` ֆունկցիան, որը ստանում է դեկարտյան կետ և վերադարձնում է համարժեք բևեռային կետը։

```c
struct polar_point to_polar( struct cartesian_point c )
{
  struct polar_point res;
  res.rho = sqrt( c.x * c.x + c.y * c.y );
  res.phi = atan2( c.y, c.x );
  return res;
}
```

Ճիշտ նույն կերպ կարող եմ սահմանել `to_cartesian` ֆունկցիան, որը ստանում է բևեռային կետ և վերադարձնում է դա դեկարտյան ներկայացումը։

```c
struct cartesian_point to_cartesian( struct polar_point p )
{
  struct cartesian_point res;
  res.x = p.rho * cos( p.phi );
  res.y = p.rho * sin( p.phi );
  return res;
}
```

Փորձեմ մի քանի օրինակներով ցույց տալ, որ այս ֆունկցիաներն
