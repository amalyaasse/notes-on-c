# Զրույց I

Հարգելի՛ ընթերցող։

Եթե կարդում ես այս զրույցների շարքը, ապա, հավանաբար, քեզ հետաքրքրում է C ծրագրավորման լեզուն և դու որոշել ես սովորել այն։ Իմ այս առաջին զրույցի նպատակն է մի քանի պարզ օրինակներով ցույց տալ այն հիմնական քայլերը, որ ծրագրավորողը կատարում է C լեզվով ծրագրերը *խմբագրելիս*, *թարգմանելիս* (compilation) և *կատարելիս*։

Իմ զրույցներում ես կօգտագործեմ [Ubuntu](http://www.ubuntu.com/) GNU/Linux օպերացիոն համակարգում մատչելի գործիքները՝ [bash](https://www.gnu.org/software/bash/bash.html) հրամանային ինտերպրետատորը, [GNU Emacs](http://www.gnu.org/software/emacs/) տեքստային խմբագրիչը, C ծրագրավորման լեզվի [calng](http://clang.llvm.org/) կամ [gcc](http://gcc.gnu.org/) կոմպիլյատորները և ծրագրերի շտկման [gdb](http://www.gnu.org/software/gdb/) ծրագիրը։

> Բայց եթե դու այլ օպերացիոն համակարգ ես օգտագործում, ապա կարող ես նաև տեղադրել և օգտագործել քո համակարգի համար նախատեսված համապատասխան գործիքները։ Օրինակ, Microsoft Windows օպերացիոն համակարգն օգտագործողների մոտ մեծ մասսայականություն է վայելում Visual Studio աշխատանքային միջավայրը, որը, բացի կոմերցիոն տարբերակից, ունի նաև ազատ օգտագործման համար նախատեսված Express տարբերակ։ Կարող ես http://www.visualstudio.com/ կայքից անվճար բեռնել ու օգտագործել այն։ 

Ես սիրում եմ օգտագործել GNU Emacs խմբագրիչը, որն ունի C լեզվով գրված ծրագրերի հետ աշխատելու բոլոր հնարավորությունները՝ տողերի համարականում, ծառայողական բառերի գունավորում (syntax highlighting), տեքստի հատվածների խորությունների ավտոմատ կարգավորում (automatic indentation) և այլն։ Իմ Ubuntu GNU/Linux համակարգում GNU Emacs խմբագրիչը տեղադրել եմ հետևյալ հրամանով. 

```bash
$ sudo apt-get install emacs
```

> Բնականաբար այստեղ չեմ պատմի Emacs-ի օգտագործման մանրամասները։ Միայն երբեմն, ըստ անհրաժեշտության, կհիշատակեմ առավել հետաքրքիր հրամանները։ Օրինակ, նոր ֆայլը ստեղծվում է `C-x C-f` հրամանով, իսկ ֆայլում կատարված փոփոխությունները կարելի է հիշել `C-x C-s` հրամանով։ 

bash հրամանային ինտերպրետատորում հավաքում եմ `emacs prog01.c &` հրամանը և ստեղծում եմ `prog01.c` ֆայլը՝ հետևյալ պարունակությամբ։

```c
#include <stdio.h>
int main()
{
    puts( "Ողջո՛ւյն։" );
    puts( "Այդ ես եմ՝ քո առաջին C ծրագիրը:" );
    return 0;
}
```

Սա C ծրագրավորան լեզվով գրված մի պարզ ծրագիր է, որի նպատակն է ստանդարտ արտածման հոսքին դուրս բերել երկու տող «Ողջո՛ւյն։» և «Այդ ես եմ՝ քո առաջին C ծրագիրը։»։ Նշեմ, որ C լեզվով գրված ծրագրերը սովորաբար գրառվում են `.c` վերջավորություն ունեցող ֆայլերում։

Առաջին տողում գրված `#include <stdio.h>` արտահայտությունը պահանջում է կոմպիլյացիայից առաջ `prog01.c` ֆայլին կցել գրադարանային `stdio.h` ֆայլը: Այն պարունակում է ներածման ու արտածման համար նախատեսված ստանդարտ ֆունկցիաների, կառուցվածքների և այլ ծրագրային բաղադրիչների հայտարարությունները։ 

Երկրորդ տողում գրված է C ծրագրերի մուտքի կետ հանդիսացող `main` ֆունկցիայի վերնագիրը։ Տվյալ դեպքում `main` ֆունկցիան արգումենտներ չի սպասում՝ նրա արգումենտների ցուցակը դատարկ է, բայց վերադարձնում է `int` (ամբողջ թիվ) տիպի արժեք։ C լեզվով գրված բոլոր ծրագրիերն իրենց աշխատանքը սկսում են հենց այս ֆունկցիայից։ Ավելի պատկերավոր ասած՝ `main` ֆունկցիան կանչվում է օպերացիոն համակարգի կողմից, իսկ նրա վերադարձրած արժեքը օպերացիոն համակարգը մեկնաբանում է որպես կատարվող ծրագրի հաջող կամ անհաջող ավարտի հայտանիշ։ Պայմանավորվածություն կա, որ `0` արժեք են վերադարձնում հաջող ավարտված ծրագրերը, իսկ զրոյից տարբեր արժեք՝ անհաջող ավարտվածները։ 

C ֆունկցիայի մարմինը՝ այն հրամանների հաջորդականությունը, որոնցով որոշվում է ֆունկցիայի վարքը, պարփակված է `{` և `}` փակագծերի մեջ։ Իմ այս օրինակի երրորդ տողում սկսվում է և յոթերորդ տողում ավարտվում է `main` ֆունկցիայի մարմինը։

Չորրորդ և հինգերորդ տողերում օգտագործված է `stdio` (standard input-output) գրադարանի `puts` (put string - արտածել տողը) ֆունկցիան։ Այս ֆունկցիան արգումենտում ստանում է նիշերի տող և այդ տողն արտածում է `stdout` ստանդարտ արտածման հոսքին։

Վեցերորդ տողում օգտագործված `return` հրամանը նախատեսված է ֆունկցիայից արժեք վերադարձնելու համար (սրա մասին դեռ շատ կխոսեմ)։ Այստեղ `return` հրամանով `main` ֆունկցիայից վերադարձվում է `0` արժեքը, որը ցուց է տալիս, որ ծրագիր ավարտը համարվում է հաջող։

Հիմա, երբ պատրաստ է ծրագրի տեքստը, պետք է կոմպիլյատորի օգնությամբ թարգմանել այն և ստանալ կատարվող ֆայլ։ Զրույցի սկզբում նշեցի, որ օգտագործելու եմ C լեզվի երկու կոմպիլյատորներ՝ *clang*-ը և *gcc*-ն։ Այդ ծրագրերը, իրենց օժանդակ գործիքների հետ միասին, իմ GNU/Linux համակարգում տեղադրել եմ հետևյալ հրամաններով.

```bash
$ sudo apt-get install clang
$ sudo apt-get install gcc
```

Ծրագիրը պարունակող `prog01.c` ֆայլը կարող եմ թարգմանել հետևյալ հրամանով.

```bash
$ clang prog01.c -o prog01
```

> Կոմպիլյատորին տրվող `-o` պարամետրի արգումենտով որոշվում է ստեղծվելիք կատարվող ֆայլի անունը։ Եթե `-o` պարամետրը տրված չէ, ապա կոմպիլյատորը կստեղծի `a.out` անունով կատարվող ֆայլ։

Եթե ծրագրի տեքստը սխալներ չի պարունակում, ապա կոմպիլյացիայի արդյունքում կստեղծվի `prog01` կատարվող մոդուլը։ Այն աշխատեցնելու համար պարզապես պետք է bash-ի հրամանային տողից գործարկել ինչպես որևէ այլ ծրագիր.

```bash
$ ./prog01
Ողջո՛ւյն։
Այդ ես եմ՝ քո առաջին C ծրագիրը։
```

Եթե `prog01` կատարվող ֆայլն աշխատեցնելուց հետո bash-ի `echo` հրամանով արտածենք `$?` փոևդոփոփոխականը, որը պարունակում է վերջին աշխատած ծրագիր ավարտի կոդը, ապա կստանանք `0` արժեքը։ Այս `0`-ն հենց իմ ծրագրի `main` ֆունկցիայից `return` հրամանով վերադարձրած արժեքն է։

```bash
$ echo $?
0
```

Առաջին զրույցի համար, թերևս, այսքանը։ Հաջորդ զրույցում կպատմեմ փոփոխականների հայտարարման և ստեղնաշարից տվյալների ներածման մասին։


